@media (max-width: 768px) {

    /* --- PAGE LAYOUT: Force 1 column on mobile --- */
    .page-layout-grid {
        grid-template-columns: 1fr !important;
        gap: 10px !important;
        /* Reduced gap from 20px */
        width: 100% !important;
        margin: 0 !important;
        padding: 0 5px !important;
        /* Minimal outer padding */
    }

    /* Reduce card padding on mobile to give more horizontal space */
    .admin-card {
        padding: 5px !important;
        width: 100% !important;
        box-sizing: border-box !important;
    }

    /* HIDE SIDEBAR ON MOBILE */
    .counter-sidebar {
        display: none !important;
    }

    /* --- FIXED FILTERS: Target the real container, not display: contents form --- */
    .filter-toolbar-container {
        flex-direction: column !important;
        align-items: stretch !important;
        gap: 8px !important;
        margin-bottom: 10px !important;
    }

    /* NOTE: #catalogoFiltersForm uses display: contents, 
       so it's styled via parent .filter-toolbar-container */

    .filter-item {
        min-width: 100% !important;
        flex: 1 1 100% !important;
        max-width: 100% !important;
        /* Force full width */
    }

    .custom-dropdown .dropdown-trigger {
        width: 100% !important;
        /* Ensure trigger fills the item */
    }

    /* Fix New Model Button */
    .action-buttons-container {
        width: 100% !important;
        margin-top: 5px !important;
        padding: 0 !important;
    }

    .action-buttons-container .btn-primary-maquinaria {
        width: 100% !important;
        justify-content: center;
    }

    /* --- TABLE TO CARD TRANSFORMATION (CSS GRID) --- */

    /* Hide Table Header */
    .admin-table.catalog-specific-table thead {
        display: none !important;
    }

    /* FORCE TABLE WIDTH RESET FOR MOBILE */
    .admin-table.catalog-specific-table {
        width: 100% !important;
        min-width: 0 !important;
        display: block !important;
        margin-top: 5px !important;
    }

    /* Card Container (TR) */
    .admin-table.catalog-specific-table tr {
        display: grid !important;
        grid-template-columns: 110px 1fr;
        /* Reduced Photo to 110px to give more space key */
        grid-template-rows: auto auto auto;
        /* Model | Motor | Actions */
        margin-bottom: 15px;
        /* Reduced margin */
        border: 1px solid #cbd5e0;
        border-radius: 12px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        /* Softer shadow */
        background: white;
        padding: 0;
        overflow: hidden;
        /* Contains children */
    }

    .admin-table.catalog-specific-table td {
        border: none !important;
        /* Remove internal borders */
        padding: 8px !important;
    }

    /* 1. PHOTO (Left Column, Spanning 2 data rows) */
    .admin-table.catalog-specific-table td:nth-child(1) {
        grid-column: 1 / 2;
        grid-row: 1 / 3;
        /* Spans Model and Motor rows */
        display: flex !important;
        align-items: center;
        justify-content: center;
        background: #f8fafc;
        border-right: 1px solid #f1f5f9 !important;
        min-height: 120px;
        /* Reduced min-height slightly */
        padding: 2px !important;
        width: 100% !important;
        /* Fill grid cell */
    }

    .table-image-wrapper {
        aspect-ratio: 1/1 !important;
        /* Square-ish photo mostly */
        height: auto !important;
        width: 100% !important;
        max-height: 100px;
        /* Cap image height */
        object-fit: contain;
    }

    /* 2. MODEL/YEAR (Right Column, Top) */
    .admin-table.catalog-specific-table td:nth-child(2) {
        grid-column: 2 / 3;
        grid-row: 1 / 2;
        display: flex !important;
        flex-direction: column;
        justify-content: center;
        border-bottom: 1px solid #f1f5f9 !important;
        padding: 10px 10px 5px 10px !important;
        /* Adjusted padding */
    }

    /* 3. MOTOR (Right Column, Bottom) */
    .admin-table.catalog-specific-table td:nth-child(3) {
        grid-column: 2 / 3;
        grid-row: 2 / 3;
        display: block !important;
        padding: 0 10px 10px 10px !important;
    }

    /* Target the inner grid div */
    .admin-table.catalog-specific-table td:nth-child(3)>div {
        display: block !important;
        /* Stack items vertically or keep grid but hide items */
    }

    /* Keep Motor (1) and Combustible (2) visible if desired, or just Motor */
    /* User asked to remove Bateria (3) and Consumo (4) */
    .admin-table.catalog-specific-table td:nth-child(3)>div>div:nth-child(3),
    .admin-table.catalog-specific-table td:nth-child(3)>div>div:nth-child(4) {
        display: none !important;
    }

    /* Optional: Remove margin from first item */
    .admin-table.catalog-specific-table td:nth-child(3)>div>div:first-child {
        margin-bottom: 5px;
    }

    /* 4. LUBRICANTS (HIDDEN) */
    .admin-table.catalog-specific-table td:nth-child(4) {
        display: none !important;
    }

    /* 5. ACTIONS (Bottom, Full Width) */
    .admin-table.catalog-specific-table td:last-child {
        grid-column: 1 / 3;
        /* Full width */
        grid-row: 3 / 4;
        display: flex !important;
        justify-content: center;
        gap: 10px;
        padding: 10px !important;
        background: #f8fafc;
        border-top: 1px solid #e2e8f0 !important;
    }

    .admin-table.catalog-specific-table td:last-child .btn-details-mini {
        flex: 1;
        max-width: none !important;
        height: 38px !important;
        /* Taller touch targets */
    }

    /* Remove pseudo-elements from desktop view */
    .admin-table.catalog-specific-table td::before {
        display: none !important;
    }
}